import{S,i as j,s as F,e as y,b as A,H as R,h as m,o as H,k as v,q as k,l as P,m as E,r as T,n as g,D as i,J,a as N,c as x,u as M}from"../chunks/index.7a006170.js";import"../chunks/paths.8ff1c8d1.js";function C(o,e,l){const a=o.slice();return a[4]=e[l],a}function L(o){let e,l;return{c(){e=v("p"),l=k("..."),this.h()},l(a){e=P(a,"P",{class:!0});var t=E(e);l=T(t,"..."),t.forEach(m),this.h()},h(){g(e,"class","svelte-usmp5e")},m(a,t){A(a,e,t),i(e,l)},p:R,d(a){a&&m(e)}}}function V(o){let e,l=o[0],a=[];for(let t=0;t<l.length;t+=1)a[t]=O(C(o,l,t));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=y()},l(t){for(let n=0;n<a.length;n+=1)a[n].l(t);e=y()},m(t,n){for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(t,n);A(t,e,n)},p(t,n){if(n&1){l=t[0];let s;for(s=0;s<l.length;s+=1){const r=C(t,l,s);a[s]?a[s].p(r,n):(a[s]=O(r),a[s].c(),a[s].m(e.parentNode,e))}for(;s<a.length;s+=1)a[s].d(1);a.length=l.length}},d(t){J(a,t),t&&m(e)}}}function O(o){var $,I;let e,l,a=((($=o[4].metadata)==null?void 0:$.title)||"")+"",t,n,s,r=(((I=o[4].metadata)==null?void 0:I.created)||"")+"",_,D,f,u=o[4].content+"",b,w;return{c(){e=v("article"),l=v("p"),t=k(a),n=N(),s=v("div"),_=k(r),D=N(),f=v("p"),b=k(u),w=N(),this.h()},l(p){e=P(p,"ARTICLE",{class:!0});var c=E(e);l=P(c,"P",{class:!0});var d=E(l);t=T(d,a),d.forEach(m),n=x(c),s=P(c,"DIV",{class:!0});var h=E(s);_=T(h,r),h.forEach(m),D=x(c),f=P(c,"P",{class:!0});var q=E(f);b=T(q,u),q.forEach(m),w=x(c),c.forEach(m),this.h()},h(){g(l,"class","title svelte-usmp5e"),g(s,"class","date svelte-usmp5e"),g(f,"class","content svelte-usmp5e"),g(e,"class","svelte-usmp5e")},m(p,c){A(p,e,c),i(e,l),i(l,t),i(e,n),i(e,s),i(s,_),i(e,D),i(e,f),i(f,b),i(e,w)},p(p,c){var d,h;c&1&&a!==(a=(((d=p[4].metadata)==null?void 0:d.title)||"")+"")&&M(t,a),c&1&&r!==(r=(((h=p[4].metadata)==null?void 0:h.created)||"")+"")&&M(_,r),c&1&&u!==(u=p[4].content+"")&&M(b,u)},d(p){p&&m(e)}}}function W(o){let e;function l(n,s){return n[0].length>0?V:L}let a=l(o),t=a(o);return{c(){t.c(),e=y()},l(n){t.l(n),e=y()},m(n,s){t.m(n,s),A(n,e,s)},p(n,[s]){a===(a=l(n))&&t?t.p(n,s):(t.d(1),t=a(n),t&&(t.c(),t.m(e.parentNode,e)))},i:R,o:R,d(n){t.d(n),n&&m(e)}}}const z="https://api.github.com/repos/david-vanderhaar/verse-and-verve-data/contents/poems?ref=main";function B(o){const e=o.split("END_METADATA");e[0]=e[0].replace("END_METADATA","");const a=e[0].split(`
`).reduce((n,s)=>{const[r,_]=s.split(": ");return n[r]=_,n},{}),t=e[1].trim();return{metadata:a,content:t}}function G(o){return o.name.endsWith(".txt")}async function K(o){const l=await(await fetch(o)).text();return B(l)}function Q(o,e,l){let a=[];H(()=>{t()});async function t(){const r=(await(await fetch(z)).json()).filter(G).map(_=>K(_.download_url));l(0,a=await Promise.all(r))}return[a]}class Y extends S{constructor(e){super(),j(this,e,Q,W,F,{})}}export{Y as component};
